<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>L8 Visual</title>
<link rel="stylesheet" href="styles/bootstrap.min.css" />
<link rel="stylesheet" href="styles/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="styles/index.css" />
<link rel="stylesheet" href="styles/tile.css" />
<link rel="stylesheet" href="styles/spectrum.css" />

<script src="scripts/jquery-1.8.2.min.js"></script>
<script src="scripts/tiles.js"></script>
<script src="scripts/spectrum.js"></script>
<script src="scripts/animation.js"></script>

<script type="text/javascript">
	$(function() {
		createGridWithDimensions(8, 8);
		setupColorPickerWithSelector('#colorChoice');
		setupEvents();
		
		$('#fps').on('change', function() {
			Animation.fps = $(this).val();
		});
	});

	var interval;
	// Lowers cpu usage src=http://nokarma.org/2011/02/02/javascript-game-development-the-game-loop/index.html
	(function() {
		var onEachFrame;
		if (window.webkitRequestAnimationFrame) {
			onEachFrame = function(cb) {
				var _cb = function() {
					cb();
					webkitRequestAnimationFrame(_cb);
				}
				_cb();
			};
		} else if (window.mozRequestAnimationFrame) {
			onEachFrame = function(cb) {
				var _cb = function() {
					cb();
					mozRequestAnimationFrame(_cb);
				}
				_cb();
			};
		} else {
			onEachFrame = function(cb) {
				interval = setInterval(cb, 1000 / 60);
			}
		}

		window.onEachFrame = onEachFrame;
	})();
	
	window.onEachFrame(Animation.run);
</script>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="span8" id="lightGrid"></div>
			<div class="well span3">
				<h1>Settings</h1>
				<input id="colorChoice" type="text">
				<div>
				fps&nbsp;<input id="fps" type="number" value="60" size="2">
				</div>
			</div>
		</div>
	</div>
</body>
</html>